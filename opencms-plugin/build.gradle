apply plugin: 'maven'

version='0.0.1-SNAPSHOT'

buildscript {
    repositories {
        mavenLocal()
        mavenCentral()
    }
    dependencies {
        classpath fileTree(dir: "${project.projectDir}/lib")
        classpath 'javax.servlet:jsp-api:2.0'
        classpath 'javax.servlet:javax.servlet-api:3.0.1'
    }
}


dependencies {
    compile fileTree(dir: 'lib', includes: ['*.jar'])
    compile gradleApi()
    compile localGroovy()
}

configurations { mavenHttp }

archivesBaseName = 'opencms-plugin'

uploadArchives {
    repositories {
        mavenDeployer {
            setUniqueVersion(false)
            mavenLocal()
            repository(url: 'https://artifactory.codecentric.de/artifactory/internal') {
                authentication(userName: userName, password: password)
            }
            snapshotRepository(url: 'https://artifactory.codecentric.de/artifactory/snapshots') {
                authentication(userName: userName, password: password)
            }
        }
    }
}
